<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>One Page Wonder - Start Bootstrap Template</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
        <style>
                /* Chrome, Safari, Edge, Opera */
                input::-webkit-outer-spin-button,
                input::-webkit-inner-spin-button {
                    -webkit-appearance: none;
                    margin: 0;
                }
        
                /* Firefox */
                input[type=number] {
                -moz-appearance: textfield;
                }
        </style>
    </head>
    <body id="page-top">
        <!-- Content section 2-->
        <section>
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6">
                        <div class="p-5"><img class="img-fluid rounded-circle" src="https://pos-graduacao.direito.usp.br/wp-content/uploads/2020/08/jose_luiz_gaviao_de_almeida-200x200.jpg" alt="..." /></div>
                    </div>
                    <div class="col-lg-6">
                        <div class="p-5">
                            <h2 class="display-4">Sua situação de Gavlover</h2>
                            <div>
                                <label for="p1">Nota P1 (0 a 10)</label>
                                <input id="p1" type="number">
                            </div>
                            <div>
                                <label for="p2">Nota P2 (0 a 8)</label>
                                <input id="p2" type="number">
                            </div>
                            <div>
                                <label for="s">Nota do Seminario (0 a 10)</label>
                                <input id="s" type="number">
                            </div>
                            <button class="btn btn-dark" onclick="calcularMedia()">Calcular</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Content section 3-->
        <section>
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6 order-lg-2">
                        <h3 id="tit-graph"></h3>
                        <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
                    </div>
                    <div class="col-lg-6 order-lg-1">
                        <div class="p-5">
                            <h3 id="media" class="display-4"></h3>
                            <p id ="comment"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="py-5 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; Your Website 2023</p></div>
        </footer>
        <script>
            function calcularMedia(){
                let p1 = Number(document.getElementById('p1').value)
                let p2 = Number(document.getElementById('p2').value)
                let s = Number(document.getElementById('s').value)/5
        
                let m = (p1+p2+s)/2
                let sit = document.getElementById("media")
                sit.innerText = `Sua média é: ${m}!!`
                let comment = document.getElementById("comment")
                if(m >= 5){
                    comment.innerText = "Você NÃO precisa fazer a SUB..."
                }
                else{
                    comment.innerText = "Você  precisa fazer a SUB..."
                }
                criarGrafico(p1,s)
            }
            function criarGrafico(p1,s){
                let tit = document.getElementById("tit-graph")
                tit.innerText = "Média final de acordo com a nota da SUB"
                const N = 16
                let xValues = [...Array(N+1).keys()].map(i => {return i*8/N});
                let yValues = xValues.map(i => {return (p1+s+i)/2})
                new Chart("myChart", {
                type: "line",
                data: {
                    labels: xValues,
                    datasets: [{
                    fill: false,
                    lineTension: 0,
                    backgroundColor: "rgba(0,0,255,1.0)",
                    borderColor: "rgba(0,0,255,0.1)",
                    data: yValues
                    }]
                },
                options: {
                    legend: {display: false},
                    scales: {
                    yAxes: [{ticks: {min: 0, max:10}}],
                    }
                }
                });
            }
            </script>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>

    </body>
</html>
